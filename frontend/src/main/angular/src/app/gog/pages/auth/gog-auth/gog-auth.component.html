<app-icon-item iconClass="bi bi-puzzle">
  <ng-container title>
    GOG
  </ng-container>
  <ng-container descriptor>
    <app-loaded-content [isLoading]="gogIsLoading">
      <ng-container placeholder>
        <app-loading-placeholder [widths]="['6rem']"/>
      </ng-container>

      <div data-testid="gog-auth-status"
           aria-live="polite"
           [ngClass]="{'text-primary': gogAuthenticated, 'text-danger-emphasis': !gogAuthenticated}">
        <i class="me-1"
           [ngClass]="{'bi bi-check-circle': gogAuthenticated, 'bi bi-x-circle': !gogAuthenticated}"
           aria-hidden="true">
        </i>
        <ng-container *ngIf="gogAuthenticated">Authenticated</ng-container>
        <ng-container *ngIf="!gogAuthenticated">Not authenticated</ng-container>
      </div>
    </app-loaded-content>
  </ng-container>
  <ng-container buttons>
    <app-loaded-content [isLoading]="gogIsLoading">
      <ng-container placeholder>
        <app-loading-placeholder [widths]="['6rem']"/>
      </ng-container>

      <ng-container *ngIf="!gogAuthenticated">
        <app-button [action]="openGogModal"
                    buttonType="button" testId="show-gog-auth-modal-btn" buttonStyle="primary">
          Authenticate
        </app-button>
      </ng-container>

      <ng-container *ngIf="gogAuthenticated">
        <app-button [actionAsync]="onClickSignOutGog()" buttonStyle="danger" testId="log-out-gog-btn">
          Log out
        </app-button>
      </ng-container>
    </app-loaded-content>
  </ng-container>
  <ng-container details>
    <app-loaded-content [isLoading]="gogIsLoading">
      <ng-container placeholder>
        <app-loading-placeholder [widths]="['20rem', '20rem']"/>
      </ng-container>

      <app-named-value>
        <ng-container name>Last attempted discovery</ng-container>
        <ng-container value>Unknown</ng-container>
      </app-named-value>
      <app-named-value>
        <ng-container name>Last successful discovery</ng-container>
        <ng-container value>Unknown</ng-container>
      </app-named-value>
    </app-loaded-content>
  </ng-container>
</app-icon-item>
