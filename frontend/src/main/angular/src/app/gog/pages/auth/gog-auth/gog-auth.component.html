<app-icon-item iconClass="bi bi-puzzle">
  <ng-container title>
    GOG
  </ng-container>
  <ng-container descriptor>
    <app-loaded-content [isLoading]="gogIsLoading" [hideIcon]="true">
      <ng-container placeholder>
        <div class="placeholder-glow">
          <span class="placeholder" style="width: 6rem;"></span>
        </div>
      </ng-container>

      <div data-testid="gog-auth-status"
           [ngClass]="{'text-primary': gogAuthenticated, 'text-danger-emphasis': !gogAuthenticated}">
        <i class="me-1"
           [ngClass]="{'bi bi-check-circle': gogAuthenticated, 'bi bi-x-circle': !gogAuthenticated}"
           aria-hidden="true">
        </i>
        <ng-container *ngIf="gogAuthenticated">Authenticated</ng-container>
        <ng-container *ngIf="!gogAuthenticated">Not authenticated</ng-container>
      </div>
    </app-loaded-content>
  </ng-container>
  <ng-container buttons>
    <app-loaded-content [isLoading]="gogIsLoading" [hideIcon]="true">
      <ng-container placeholder>
        <div class="placeholder-glow">
          <span class="placeholder" style="width: 6rem;"></span>
        </div>
      </ng-container>

      <ng-container *ngIf="!gogAuthenticated">
        <app-button [action]="showGogAuthModal.bind(this)"
                    buttonType="button" testId="show-gog-auth-modal-btn" buttonStyle="primary">
          Authenticate
        </app-button>
      </ng-container>

      <ng-container *ngIf="gogAuthenticated">
        <app-button [actionAsync]="onClickSignOutGog()" buttonStyle="danger" testId="log-out-gog-btn">
          Log out
        </app-button>
      </ng-container>
    </app-loaded-content>
  </ng-container>
  <ng-container details>
    <app-loaded-content [isLoading]="gogIsLoading" [hideIcon]="true">
      <ng-container placeholder>
        <div class="placeholder-glow">
          <span class="placeholder" style="width: 16rem;"></span><br>
          <span class="placeholder" style="width: 16rem;"></span>
        </div>
      </ng-container>
      some details
    </app-loaded-content>
  </ng-container>
</app-icon-item>
